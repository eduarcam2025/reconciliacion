<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Guía para el Sacramento de la Reconciliación - Examen de conciencia y preparación espiritual">
  <title>Sacramento de la Reconciliación | Guía Espiritual</title>
  
  <!-- Carga eficiente de Google Fonts con preconect -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
  
  <style>
    /* Variables de diseño para coherencia */
    :root {
      --primary-color: #ffcc00;
      --primary-dark: #e6b800;
      --accent-blue: #4ec7f3;
      --accent-green: ##f0a25a;
      --accent-red: #dc143c;
      --text-dark: #333;
      --overlay-dark: rgba(0, 0, 0, 0.65);
      --transition-standard: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
      --shadow-light: 0 4px 12px rgba(0, 0, 0, 0.08);
      --shadow-medium: 0 6px 16px rgba(0, 0, 0, 0.12);
      --flip-height: 56px;
      --flip-margin: 52px;
      --footer-link-spacing: 0.8rem;
    }

    /* Reset mejorado con soporte para todos los navegadores */
    *,
    *::before,
    *::after {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    /* Estilos base con enfoque en accesibilidad */
    body {
      font-family: 'Open Sans', 'Segoe UI', Arial, sans-serif;
      min-height: 100vh;
      background: url('imgs/espiritusanto.jpg') no-repeat center center fixed;
      background-size: cover;
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      position: relative;
      padding-bottom: 2rem;
      line-height: 1.6;
    }

    /* Overlay oscuro con mejor contraste para lectura */
    body::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: var(--overlay-dark);
      z-index: -1;
    }

    /* Contenedor principal con mejor jerarquía visual */
    .container {
      position: relative;
      z-index: 1;
      max-width: 800px;
      width: 90%;
      padding: 2.5rem;
      background-color: rgba(0, 0, 0, 0.15);
      border-radius: 18px;
      backdrop-filter: blur(4px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: var(--shadow-medium);
      transition: var(--transition-standard);
    }

    /* Títulos con jerarquía clara */
    h1 {
      font-family: 'Roboto', sans-serif;
      font-weight: 700;
      font-size: 2.8rem;
      margin-bottom: 1.8rem;
      text-shadow: 0 2px 6px rgba(0, 0, 0, 0.25);
      position: relative;
      line-height: 1.2;
    }

    h1::after {
      content: '';
      position: absolute;
      bottom: -12px;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 3px;
      background: var(--primary-color);
      border-radius: 3px;
    }

    /* Slider de texto giratorio optimizado */
    .text-container {
      color: #999;
      text-transform: uppercase;
      font-family: 'Roboto', sans-serif;
      font-weight: 700;
      font-size: 2.2rem;
      position: relative;
      width: 100%;
      display: block;
    }

    .text-flip {
      height: var(--flip-height);
      overflow: hidden;
      display: inline-block;
      position: relative;
      vertical-align: top;
      margin: 0 8px;
    }

    .text-flip > div > div {
      color: black;
      padding: 6px 14px;
      height: calc(var(--flip-height) - 8px);
      line-height: calc(var(--flip-height) - 8px);
      margin-bottom: var(--flip-margin);
      display: inline-block;
      border-radius: 8px;
      font-weight: 700;
      text-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }

    .text-flip div:first-child {
      animation: show 6s linear infinite;
    }

    .text-flip div div {
      background: var(--shadow-light);
    }
    
    .text-flip div:nth-child(2) div {
      background: var(--shadow-light);
    }
    
    .text-flip div:last-child div {
      background: var(--accent-red);
    }

    @keyframes show {
      0% {margin-top: -156px;}
      10% {margin-top: -104px;}
      33% {margin-top: -104px;}
      43% {margin-top: -52px;}
      66% {margin-top: -52px;}
      76% {margin-top: 0px;}
      99.99% {margin-top: 0px;}
      100% {margin-top: -156px;}
    }

    /* Botón principal con mejor feedback */
    .btn-primary {
      display: inline-block;
      margin-top: 2.5rem;
      padding: 0.9rem 2.2rem;
      font-size: 1.1rem;
      background-color: var(--primary-color);
      color: #000;
      border: none;
      border-radius: 32px;
      cursor: pointer;
      text-decoration: none;
      font-weight: 600;
      transition: var(--transition-standard);
      box-shadow: var(--shadow-light);
      letter-spacing: 0.5px;
      position: relative;
      overflow: hidden;
      font-family: 'Open Sans', sans-serif;
    }

    .btn-primary:hover {
      background-color: var(--primary-dark);
      transform: translateY(-3px);
      box-shadow: var(--shadow-medium);
      letter-spacing: 0.8px;
    }

    .btn-primary:active {
      transform: translateY(0);
    }

    .btn-primary::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(to bottom, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 100%);
      pointer-events: none;
    }

    /* Footer semántico y accesible */
    footer {
      margin-top: 2.5rem;
      font-size: 0.85rem;
      color: var(--text-dark);
      text-align: center;
      padding: 1.2rem 1.5rem;
      border-top: 1px solid #eee;
      line-height: 1.6;
      background-color: #fff;
      border-radius: 0 0 12px 12px;
      width: 90%;
      max-width: 800px;
      box-shadow: var(--shadow-light);
      transition: var(--transition-standard);
    }

    footer:hover {
      box-shadow: var(--shadow-medium);
      transform: translateY(-2px);
    }

    .footer-link {
      color: #0066cc;
      text-decoration: none;
      font-weight: 500;
      border-bottom: 1px dashed #0066cc;
      transition: var(--transition-standard);
    }

    .footer-link:hover {
      color: #004499;
      border-bottom: 1px solid #004499;
    }

    /* Corrección del problema CSP - margen superior para el enlace del footer */
    .footer-link-container {
      margin-top: var(--footer-link-spacing);
    }

    /* Mejoras de accesibilidad */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    /* Responsive design mejorado */
    @media (max-width: 768px) {
      :root {
        --flip-height: 48px;
        --flip-margin: 44px;
      }
      
      h1 {
        font-size: 2.2rem;
        margin-bottom: 1.3rem;
      }
      
      .text-container {
        font-size: 1.8rem;
      }
      
      .container {
        padding: 1.8rem 1.5rem;
      }
      
      .btn-primary {
        padding: 0.75rem 1.8rem;
        font-size: 1rem;
      }
      
      footer {
        font-size: 0.78rem;
        padding: 1rem;
      }
    }

    @media (max-width: 480px) {
      :root {
        --flip-height: 42px;
        --flip-margin: 38px;
      }
      
      h1 {
        font-size: 1.9rem;
      }
      
      .text-container {
        font-size: 1.5rem;
        display: block;
        width: 100%;
      }
      
      .text-flip {
        display: block;
        margin: 15px auto;
      }
      
      .container {
        padding: 1.5rem 1.2rem;
      }
      
      .btn-primary {
        width: 100%;
        margin-top: 1.2rem;
      }
    }
  </style>

  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' https://*;">
</head>
<body>
  <!-- Contenido principal -->
  <div class="container" role="main">
    <h1>Sacramento de la Reconciliación</h1>
    
    <div class="text-container" aria-live="polite" aria-atomic="true">
      Descubre 
      <div class="text-flip" id="textFlip">
        <div><div>EL PERDÓN</div></div>
        <div><div>LA PAZ</div></div>
        <div><div>GRACIA</div></div>
        <div><div>AMOR</div></div>
      </div>
      en tu vida
    </div>
    <p style="margin: 2rem 0 1.5rem; font-size: 1.15rem; line-height: 1.7; max-width: 650px; margin-left: auto; margin-right: auto;">
    Cada pregunta y reflexión, contenidas en este subsidio, son medios para que tu conversación con Cristo en el Sacramento de la reconciliación sea de arrepentimiento genuino, habiéndote evaluado cuidadosamente antes de llegar al encuentro con el sacerdote y recibir el perdón por tus pecados.
  </p>

    <a href="oracion.html" class="btn-primary" aria-label="Iniciar el proceso de examen de conciencia">
      Comenzar ahora
      <span class="sr-only">Iniciar el proceso de examen de conciencia</span>
    </a>
  </div>
  
  <!-- Footer semántico -->
  <footer role="contentinfo">
    <p>
      <span class="bloque">© 2025 Soluciones Integrales SICC.</span> 
      <span class="bloque">Todos los derechos reservados.</span>
    </p>
    <p class="bloque">Esta aplicación, su código fuente, diseño, contenido, textos, interfaces y funcionalidades</span>
    <p class="bloque">son propiedad exclusiva de Soluciones Integrales SICC.</span>
    <p class="bloque">Queda prohibida su reproducción, distribución, modificación,</span>
    <p class="bloque">uso comercial, transferencia o explotación, total o parcial,</span>
    <p class="bloque">sin autorización escrita expresa.</span>
    
    <p class="footer-link-container">
      <a href="mailto:sicc.solution@gmail.com" class="footer-link" aria-label="Solicitar licencia por correo electrónico">
        Solicite licencia aquí
      </a>
    </p>
  </footer>

  <script>
    // Inicialización del slider giratorio
    document.addEventListener('DOMContentLoaded', () => {
      try {
        const flipElement = document.getElementById('textFlip');
        
        if (!flipElement) {
          console.warn('Elemento de texto giratorio no encontrado. Verifica la estructura HTML.');
          
          // Fallback: crear un slider simple si no existe el elemento
          const container = document.querySelector('.text-container');
          if (container) {
            // Creamos un elemento contenedor para el slider
            const sliderContainer = document.createElement('div');
            sliderContainer.className = 'text-slider-container';
            sliderContainer.style.fontFamily = "'Roboto', sans-serif";
            sliderContainer.style.fontWeight = "700";
            sliderContainer.style.fontSize = "1.8rem";
            sliderContainer.style.minHeight = "56px";
            sliderContainer.style.overflow = "hidden";
            sliderContainer.style.position = "relative";
            sliderContainer.style.margin = "0 8px";
            sliderContainer.style.display = "inline-block";
            
            // Creamos los slides
            const phrases = ['EL PERDÓN', 'LA PAZ', 'GRACIA', 'AMOR'];
            phrases.forEach((phrase, index) => {
              const slide = document.createElement('div');
              slide.className = 'text-slide';
              slide.textContent = phrase;
              slide.style.position = "absolute";
              slide.style.width = "100%";
              slide.style.opacity = index === 0 ? "1" : "0";
              slide.style.transform = "translateY(0)";
              slide.style.transition = "opacity 0.5s ease";
              slide.style.top = "0";
              sliderContainer.appendChild(slide);
            });
            
            // Insertamos el slider en el contenedor
            container.insertBefore(sliderContainer, container.querySelector('.text-flip'));
            
            // Iniciar slider simple
            let current = 0;
            const slides = container.querySelectorAll('.text-slide');
            const totalSlides = slides.length;
            
            setInterval(() => {
              slides[current].style.opacity = "0";
              current = (current + 1) % totalSlides;
              slides[current].style.opacity = "1";
            }, 2000);
          }
          return;
        }
        
        // Ajustar la animación para el número de elementos
        const items = flipElement.querySelectorAll('div > div').length;
        const totalMargin = (items - 1) * 52; // 52px es el margen entre elementos
        
        // Actualizar la animación según el número de elementos
        const styleSheet = document.createElement('style');
        styleSheet.textContent = `
          @keyframes show {
            0% {margin-top: -${totalMargin}px;}
            10% {margin-top: -${totalMargin - 52}px;}
            33% {margin-top: -${totalMargin - 52}px;}
            43% {margin-top: -${totalMargin - 104}px;}
            66% {margin-top: -${totalMargin - 104}px;}
            76% {margin-top: 0px;}
            99.99% {margin-top: 0px;}
            100% {margin-top: -${totalMargin}px;}
          }
        `;
        document.head.appendChild(styleSheet);
        
      } catch (error) {
        console.error('Error al inicializar el slider giratorio:', error);
      }
    });
  </script>
</body>
</html>